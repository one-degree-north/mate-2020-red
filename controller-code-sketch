//upload to processing
import processing.serial.*;
import net.java.games.input.*;
import org.gamecontrolplus.*;
import org.gamecontrolplus.gui.*;
import cc.arduino.*;
import org.firmata.*;

ControlDevice cont;
ControlIO control;
Arduino arduino;
float thumb;

void setup(){
  size(360,200); 
  control = ControlIO.getInstance(this); 
  cont =  control.getMatchedDevice("xbs");
  if (cont == null){
    println("Exit"); 
    System.exit(-1);
  }
    arduino = new Arduino(this, Arduino.list()[2], 57600);
    arduino.pinMode(10,Arduino.SERVO) // pin can be adjusted to whichever is powering motor

  public void controllerCommmands(){
    thumb = map(cont.getSlider("servoPos").getValue(), -1, 1, 0, 180); //sets range of 
  }

  void draw() {
    controllerCommands(); 
    background(thumb, 100, 255);
    arduino.servoWrite(10, int(thumb)); // writes the servo power to the position of controller 
    //replace last line with motor arrangements to coordinate with robot's motors
  }
}
